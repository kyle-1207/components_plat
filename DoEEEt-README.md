# DoEEEt é›†æˆåŠŸèƒ½ - README

æ¬¢è¿ä½¿ç”¨ DoEEEtï¼ˆDefense & Aerospace Electronic Equipment Databaseï¼‰é›†æˆåŠŸèƒ½ï¼

æœ¬æ–‡æ¡£æä¾›äº†å¿«é€Ÿå¯¼èˆªï¼Œå¸®åŠ©æ‚¨æ‰¾åˆ°æ‰€éœ€çš„æ–‡æ¡£å’Œèµ„æºã€‚

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸš€ å¿«é€Ÿå¼€å§‹

å¦‚æœæ‚¨æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œè¯·ä»è¿™äº›æ–‡æ¡£å¼€å§‹ï¼š

1. **[å‰ç«¯åˆ†ç±»ç­›é€‰-å¿«é€Ÿå¼€å§‹.md](./å‰ç«¯åˆ†ç±»ç­›é€‰-å¿«é€Ÿå¼€å§‹.md)**
   - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹åˆ†ç±»ç­›é€‰åŠŸèƒ½
   - åŒ…å«å®Œæ•´çš„ä»£ç ç¤ºä¾‹

2. **[åŠ¨æ€å‚æ•°è¡¨å¤´-å¿«é€Ÿå¼€å§‹.md](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´-å¿«é€Ÿå¼€å§‹.md)**
   - 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹åŠ¨æ€å‚æ•°è¡¨å¤´
   - åŒ…å«APIå‚è€ƒå’Œä½¿ç”¨åœºæ™¯

---

### ğŸ“– è¯¦ç»†æ–‡æ¡£

éœ€è¦æ·±å…¥äº†è§£åŠŸèƒ½å®ç°å’ŒæŠ€æœ¯ç»†èŠ‚ï¼Œè¯·æŸ¥é˜…ï¼š

#### åˆ†ç±»ç­›é€‰åŠŸèƒ½
- **[å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md](./å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md)**
  - å®Œæ•´çš„æŠ€æœ¯æ¶æ„å’Œå®æ–½æ–¹æ¡ˆ
  - åŒ…å«Phase 1-4çš„è¯¦ç»†æ­¥éª¤
  - æµ‹è¯•è®¡åˆ’å’Œéƒ¨ç½²æ¸…å•

- **[CategoryFilterä½¿ç”¨è¯´æ˜.md](./frontend/docs/CategoryFilterä½¿ç”¨è¯´æ˜.md)**
  - CategoryFilterç»„ä»¶å®Œæ•´APIæ–‡æ¡£
  - Propsã€ç¤ºä¾‹ç”¨æ³•ã€åç«¯APIè§„èŒƒ
  - æ€§èƒ½ä¼˜åŒ–å’Œå¸¸è§é—®é¢˜

#### åŠ¨æ€å‚æ•°è¡¨å¤´åŠŸèƒ½
- **[åŠ¨æ€å‚æ•°è¡¨å¤´å±•ç¤ºè¯´æ˜.md](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´å±•ç¤ºè¯´æ˜.md)**
  - æ•°æ®ç»“æ„è¯¦è§£
  - UIå±•ç¤ºé€»è¾‘å’Œå®ç°ä»£ç 
  - HTMLæ¸²æŸ“å¤„ç†å’Œå®‰å…¨æ€§

- **[DoEEEtåŠ¨æ€å‚æ•°è¡¨å¤´å®æ–½æ€»ç»“.md](./DoEEEtåŠ¨æ€å‚æ•°è¡¨å¤´å®æ–½æ€»ç»“.md)**
  - æ ¸å¿ƒåŠŸèƒ½æ€»ç»“
  - æŠ€æœ¯å®ç°æ–¹æ¡ˆ
  - æ€§èƒ½ä¼˜åŒ–å’Œå®‰å…¨æ€§

---

### ğŸ“‹ æ€»è§ˆæ–‡æ¡£

éœ€è¦äº†è§£æ•´ä½“è¿›åº¦å’Œè§„åˆ’ï¼Œè¯·æŸ¥é˜…ï¼š

- **[DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md](./DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md)** â­ æ¨è
  - æ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„å¼€å‘è¿›åº¦
  - æŠ€æœ¯æ¶æ„æ€»è§ˆ
  - è¿‘æœŸå¼€å‘è®¡åˆ’å’Œé‡Œç¨‹ç¢‘

- **[DoEEEté›†æˆå®æ–½æ€»ç»“.md](./DoEEEté›†æˆå®æ–½æ€»ç»“.md)**
  - æ•´ä½“é›†æˆå·¥ä½œæ€»ç»“
  - æ•°æ®åº“è®¾è®¡å’ŒAPIæ¥å£
  - å®æ–½è¿›åº¦å’Œæ—¶é—´çº¿

- **[DoEEEté¡¹ç›®å¼€å‘è®¡åˆ’.md](./DoEEEté¡¹ç›®å¼€å‘è®¡åˆ’.md)**
  - é¡¹ç›®é˜¶æ®µè§„åˆ’
  - åŠŸèƒ½ä¼˜å…ˆçº§
  - èµ„æºåˆ†é…

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—

### 1. âœ… åˆ†ç±»ç­›é€‰åŠŸèƒ½ï¼ˆå·²å®Œæˆï¼‰

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- 15ä¸ªé¡¶å±‚åˆ†ç±»
- 2-5å±‚æ·±åº¦å¯¼èˆª
- çº§è”é€‰æ‹©å™¨ + Tabä¾§è¾¹æ åŒé‡äº¤äº’

**å¿«é€Ÿå¼€å§‹**ï¼š
```tsx
import CategoryFilter from '@/components/CategoryFilter';

<CategoryFilter 
  onCategoryChange={(path) => console.log('é€‰æ‹©:', path)}
/>
```

**ç›¸å…³æ–‡æ¡£**ï¼š
- [å¿«é€Ÿå¼€å§‹](./å‰ç«¯åˆ†ç±»ç­›é€‰-å¿«é€Ÿå¼€å§‹.md)
- [ä½¿ç”¨è¯´æ˜](./frontend/docs/CategoryFilterä½¿ç”¨è¯´æ˜.md)
- [å®æ–½æ–¹æ¡ˆ](./å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md)

---

### 2. âœ… åŠ¨æ€å‚æ•°è¡¨å¤´ï¼ˆæ ¸å¿ƒå®Œæˆï¼‰

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- æ™ºèƒ½è¡¨å¤´å±•ç¤ºï¼ˆshort_name + Tooltipï¼‰
- HTMLæ ‡ç­¾æ”¯æŒï¼ˆä¸‹æ ‡ã€ä¸Šæ ‡ï¼‰
- 360ä¸ªåŠ¨æ€å‚æ•°çµæ´»å±•ç¤º

**å¿«é€Ÿå¼€å§‹**ï¼š
```tsx
import { generateDynamicParameterColumns } from '@/utils/parameterUtils';

const dynamicColumns = generateDynamicParameterColumns(
  parameterDefinitions,
  { sortable: true }
);
```

**ç›¸å…³æ–‡æ¡£**ï¼š
- [å¿«é€Ÿå¼€å§‹](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´-å¿«é€Ÿå¼€å§‹.md)
- [å±•ç¤ºè¯´æ˜](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´å±•ç¤ºè¯´æ˜.md)
- [å®æ–½æ€»ç»“](./DoEEEtåŠ¨æ€å‚æ•°è¡¨å¤´å®æ–½æ€»ç»“.md)

---

### 3. â³ ç»„ä»¶æœç´¢åŠŸèƒ½ï¼ˆè¿›è¡Œä¸­ï¼‰

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- å…³é”®è¯æœç´¢
- åˆ†ç±»ç­›é€‰
- å‚æ•°èŒƒå›´ç­›é€‰
- åˆ†é¡µã€æ’åºã€å¯¼å‡º

**çŠ¶æ€**: 40% å®Œæˆ

---

### 4. â³ åŠ¨æ€å‚æ•°ç­›é€‰å™¨ï¼ˆè®¡åˆ’ä¸­ï¼‰

**åŠŸèƒ½ç‰¹ç‚¹**ï¼š
- æ ¹æ®åˆ†ç±»åŠ¨æ€æ˜¾ç¤ºå‚æ•°ç­›é€‰å™¨
- èŒƒå›´ç­›é€‰ï¼ˆæ•°å€¼å‹ï¼‰
- æšä¸¾ç­›é€‰ï¼ˆç¦»æ•£å€¼ï¼‰

**çŠ¶æ€**: 0% - å¾…å¼€å‘

---

## ğŸ’» ç¤ºä¾‹ä»£ç 

### åŸºç¡€ç¤ºä¾‹

#### CategoryFilter ç»„ä»¶
```tsx
import React, { useState } from 'react';
import CategoryFilter from '@/components/CategoryFilter';

const MyComponent = () => {
  const [selectedCategory, setSelectedCategory] = useState<string[]>([]);

  return (
    <CategoryFilter 
      onCategoryChange={setSelectedCategory}
      selectedCategory={selectedCategory}
    />
  );
};
```

#### åŠ¨æ€å‚æ•°è¡¨å¤´
```tsx
import { Table } from 'antd';
import { generateDynamicParameterColumns } from '@/utils/parameterUtils';

const MyTable = ({ components, parameterDefinitions }) => {
  const staticColumns = [
    { title: 'å™¨ä»¶å‹å·', dataIndex: 'partNumber', width: 150 },
  ];

  const dynamicColumns = generateDynamicParameterColumns(
    parameterDefinitions,
    { sortable: true, ellipsis: true }
  );

  return (
    <Table
      columns={[...staticColumns, ...dynamicColumns]}
      dataSource={components}
    />
  );
};
```

### å®Œæ•´ç¤ºä¾‹

æŸ¥çœ‹å®Œæ•´ç¤ºä¾‹ä»£ç ï¼š
- [DynamicParameterTableExample.tsx](./frontend/src/examples/DynamicParameterTableExample.tsx)

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
Business_plat/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ models/DoeeetComponent.ts         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/DoeeetSearchService.ts   # æœç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ controllers/doeeetComponentController.ts
â”‚   â”‚   â””â”€â”€ routes/doeeetRoutes.ts            # APIè·¯ç”±
â”‚   â””â”€â”€ data/meta.json                        # åˆ†ç±»é…ç½®
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/CategoryFilter.tsx     # åˆ†ç±»ç­›é€‰ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/parameterUtils.tsx          # å‚æ•°å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ examples/DynamicParameterTableExample.tsx
â”‚   â”‚   â””â”€â”€ pages/components/ComponentSearch.tsx
â”‚   â””â”€â”€ docs/                                 # å‰ç«¯æ–‡æ¡£
â”‚
â””â”€â”€ [æ–‡æ¡£]
    â”œâ”€â”€ DoEEEt-README.md (æœ¬æ–‡æ¡£)
    â”œâ”€â”€ DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md
    â”œâ”€â”€ DoEEEté›†æˆå®æ–½æ€»ç»“.md
    â”œâ”€â”€ å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md
    â””â”€â”€ DoEEEtåŠ¨æ€å‚æ•°è¡¨å¤´å®æ–½æ€»ç»“.md
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### åç«¯æœåŠ¡

```bash
cd backend
npm install
npm run dev
```

è®¿é—® API: http://localhost:3001/api/doeeet/categories/tree

---

### å‰ç«¯æœåŠ¡

```bash
cd frontend
npm install

# å®‰è£…å¯é€‰ä¾èµ–ï¼ˆç”¨äºHTMLæ¸…ç†ï¼‰
npm install dompurify @types/dompurify

npm run dev
```

è®¿é—®å‰ç«¯: http://localhost:3000

---

## ğŸ“Š å¼€å‘è¿›åº¦

| åŠŸèƒ½æ¨¡å— | è¿›åº¦ | çŠ¶æ€ |
|---------|------|------|
| åˆ†ç±»ç­›é€‰åŠŸèƒ½ | 100% | âœ… å®Œæˆ |
| åŠ¨æ€å‚æ•°è¡¨å¤´ | 75% | âœ… æ ¸å¿ƒå®Œæˆ |
| ç»„ä»¶æœç´¢åŠŸèƒ½ | 40% | â³ è¿›è¡Œä¸­ |
| åŠ¨æ€å‚æ•°ç­›é€‰å™¨ | 0% | â³ è®¡åˆ’ä¸­ |
| ç»„ä»¶è¯¦æƒ…é¡µ | 20% | â³ è®¡åˆ’ä¸­ |

**æ•´ä½“è¿›åº¦**: 47%

è¯¦è§ï¼š[DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md](./DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md)

---

## ğŸ“š API æ–‡æ¡£

### åç«¯ API

#### GET /api/doeeet/categories/tree
è·å–åˆ†ç±»æ ‘æ•°æ®

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "data": {
    "tree": [...],
    "subCategories": {...}
  }
}
```

#### GET /api/doeeet/search
æœç´¢ç»„ä»¶

**è¯·æ±‚å‚æ•°**ï¼š
- `keyword`: å…³é”®è¯
- `familyPath`: åˆ†ç±»è·¯å¾„
- `page`: é¡µç 
- `limit`: æ¯é¡µæ•°é‡

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "success": true,
  "data": {
    "components": [...],
    "parameterDefinitions": [...],
    "total": 100
  }
}
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: åˆ†ç±»æ ‘åŠ è½½å¤±è´¥ï¼Ÿ
- æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
- éªŒè¯ meta.json æ–‡ä»¶è·¯å¾„
- æŸ¥çœ‹ Redis ç¼“å­˜çŠ¶æ€

### Q2: è¡¨å¤´æ˜¾ç¤º HTML æºä»£ç ï¼Ÿ
- ç¡®è®¤ä½¿ç”¨äº† `dangerouslySetInnerHTML`
- å®‰è£… DOMPurify: `npm install dompurify @types/dompurify`

### Q3: åˆ—å®½åº¦ä¸åˆé€‚ï¼Ÿ
- è°ƒæ•´ `columnWidth` å’Œ `minColumnWidth` å‚æ•°

è¯¦è§å„æ–‡æ¡£çš„ã€Œå¸¸è§é—®é¢˜ã€ç« èŠ‚ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Fork é¡¹ç›®
2. åˆ›å»º feature åˆ†æ”¯
3. æäº¤ä»£ç  + æµ‹è¯•
4. æäº¤ Pull Request

### ä»£ç è§„èŒƒ
- TypeScript ä¸¥æ ¼æ¨¡å¼
- ESLint + Prettier
- å¿…é¡»æœ‰å•å…ƒæµ‹è¯•
- å¿…é¡»æœ‰ JSDoc æ³¨é‡Š

---

## ğŸ“ è”ç³»æ–¹å¼

**é¡¹ç›®å›¢é˜Ÿ**: å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-10-31  
**å½“å‰ç‰ˆæœ¬**: v0.5  
**é¢„è®¡å‘å¸ƒ**: v1.0 (2025-11-15)

---

## ğŸ“ˆ æ•°æ®è§„æ¨¡

- **æ€»ç»„ä»¶æ•°**: ~50,000+ ä¸ª
- **é¡¶å±‚åˆ†ç±»**: 15 ä¸ª
- **å¶å­åˆ†ç±»**: 181 ä¸ª
- **åŠ¨æ€å‚æ•°**: 360 ä¸ª
- **åˆ¶é€ å•†**: ~200+ å®¶

---

## ğŸ‰ å¿«é€Ÿé“¾æ¥

### ğŸš€ å¿«é€Ÿå¼€å§‹
- [åˆ†ç±»ç­›é€‰å¿«é€Ÿå¼€å§‹](./å‰ç«¯åˆ†ç±»ç­›é€‰-å¿«é€Ÿå¼€å§‹.md)
- [åŠ¨æ€å‚æ•°è¡¨å¤´å¿«é€Ÿå¼€å§‹](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´-å¿«é€Ÿå¼€å§‹.md)

### ğŸ“– è¯¦ç»†æ–‡æ¡£
- [åˆ†ç±»ç­›é€‰å®æ–½æ–¹æ¡ˆ](./å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md)
- [CategoryFilterä½¿ç”¨è¯´æ˜](./frontend/docs/CategoryFilterä½¿ç”¨è¯´æ˜.md)
- [åŠ¨æ€å‚æ•°è¡¨å¤´å±•ç¤ºè¯´æ˜](./frontend/docs/åŠ¨æ€å‚æ•°è¡¨å¤´å±•ç¤ºè¯´æ˜.md)

### ğŸ“‹ æ€»è§ˆ
- [åŠŸèƒ½å¼€å‘æ€»è§ˆ](./DoEEEtåŠŸèƒ½å¼€å‘æ€»è§ˆ.md) â­
- [é›†æˆå®æ–½æ€»ç»“](./DoEEEté›†æˆå®æ–½æ€»ç»“.md)
- [é¡¹ç›®å¼€å‘è®¡åˆ’](./DoEEEté¡¹ç›®å¼€å‘è®¡åˆ’.md)

### ğŸ’» ç¤ºä¾‹ä»£ç 
- [CategoryFilter.tsx](./frontend/src/components/CategoryFilter.tsx)
- [parameterUtils.tsx](./frontend/src/utils/parameterUtils.tsx)
- [DynamicParameterTableExample.tsx](./frontend/src/examples/DynamicParameterTableExample.tsx)

---

**æ„Ÿè°¢ä½¿ç”¨ DoEEEt ç³»ç»Ÿï¼æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿æŸ¥é˜…æ–‡æ¡£æˆ–è”ç³»æˆ‘ä»¬ã€‚**

Happy Coding! ğŸš€

