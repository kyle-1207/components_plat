# å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½ - å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
npm run dev
```

**éªŒè¯åç«¯è¿è¡Œ**ï¼š
```bash
curl http://localhost:3001/api/doeeet/categories/tree
```

åº”è¯¥è¿”å›ï¼š
```json
{
  "success": true,
  "data": {
    "tree": [...],
    "subCategories": {...}
  }
}
```

---

### 2. åœ¨æœç´¢é¡µé¢ä½¿ç”¨ CategoryFilter

**æ–‡ä»¶**: `frontend/src/pages/components/ComponentSearch.tsx`

```tsx
import React, { useState } from 'react';
import { Row, Col } from 'antd';
import CategoryFilter from '@/components/CategoryFilter';

const ComponentSearch = () => {
  const [selectedCategory, setSelectedCategory] = useState<string[]>([]);
  
  const handleCategoryChange = (categoryPath: string[]) => {
    console.log('é€‰æ‹©çš„åˆ†ç±»:', categoryPath);
    setSelectedCategory(categoryPath);
    
    // å‘é€æœç´¢è¯·æ±‚
    searchComponents({ familyPath: categoryPath.join('/') });
  };
  
  return (
    <Row gutter={16}>
      <Col span={6}>
        <CategoryFilter 
          onCategoryChange={handleCategoryChange}
          selectedCategory={selectedCategory}
        />
      </Col>
      <Col span={18}>
        {/* ä½ çš„æœç´¢ç»“æœç»„ä»¶ */}
      </Col>
    </Row>
  );
};
```

---

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm start
```

è®¿é—®: http://localhost:3000/components/search

---

## ğŸ“– æ ¸å¿ƒæ¦‚å¿µ

### æ•°æ®ç»“æ„

#### åˆ†ç±»å±‚çº§ç¤ºä¾‹
```
Microcircuits (é¡¶å±‚)
  â””â”€â”€ Digital (äºŒçº§)
       â””â”€â”€ Memory (ä¸‰çº§)
            â””â”€â”€ RAM (å››çº§)
                 â””â”€â”€ SRAM (å¶å­åˆ†ç±»)
```

#### APIå“åº”æ ¼å¼
```javascript
{
  tree: [
    {
      label: "Microcircuits",
      value: "Microcircuits",
      children: [
        {
          label: "Digital",
          value: "Digital",
          children: [...]
        }
      ]
    }
  ],
  subCategories: {
    "Microcircuits": {
      "Digital": ["Memory", "Logic", "Processor"],
      "RF-Microwave": [...]
    }
  }
}
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: å¿«é€Ÿç­›é€‰ï¼ˆçº§è”é€‰æ‹©å™¨ï¼‰
```tsx
// ç”¨æˆ·æ“ä½œï¼š
// 1. ç‚¹å‡»çº§è”é€‰æ‹©å™¨
// 2. é€‰æ‹© Microcircuits > Digital > Memory > RAM
// 3. è§¦å‘ onCategoryChange(['Microcircuits', 'Digital', 'Memory', 'RAM'])
```

### åœºæ™¯2: æµè§ˆæ‰€æœ‰åˆ†ç±»ï¼ˆTab+ä¾§è¾¹æ ï¼‰
```tsx
// ç”¨æˆ·æ“ä½œï¼š
// 1. ç‚¹å‡» "Microcircuits" Tab
// 2. æŸ¥çœ‹å·¦ä¾§äºŒçº§åˆ†ç±»åˆ—è¡¨
// 3. ç‚¹å‡»å³ä¾§çš„ "SRAM" Tag
// 4. è§¦å‘ onCategoryChange(['Microcircuits', 'Digital', 'Memory', 'RAM', 'SRAM'])
```

---

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹é¡¶å±‚åˆ†ç±»åˆ—è¡¨
**æ–‡ä»¶**: `frontend/src/components/CategoryFilter.tsx`

```tsx
const TOP_CATEGORIES = [
  "Cable Assemblies",
  "Capacitors",
  "Connectors",
  // ... æ·»åŠ æˆ–ä¿®æ”¹åˆ†ç±»
];
```

### ä¿®æ”¹ç¼“å­˜æ—¶é—´
**æ–‡ä»¶**: `backend/src/services/DoeeetSearchService.ts`

```typescript
// é»˜è®¤1å°æ—¶
await this.cacheService.set(cacheKey, result, 3600);  // 3600ç§’ = 1å°æ—¶

// ä¿®æ”¹ä¸º30åˆ†é’Ÿ
await this.cacheService.set(cacheKey, result, 1800);  // 1800ç§’ = 30åˆ†é’Ÿ
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: åˆ†ç±»æ ‘åŠ è½½å¤±è´¥
**ç—‡çŠ¶**: ç»„ä»¶æ˜¾ç¤ºåŠ è½½ä¸­ï¼Œä½†æ•°æ®ä¸€ç›´ä¸å‡ºæ¥

**è§£å†³**:
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥ meta.json æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
4. æŸ¥çœ‹åç«¯æ—¥å¿—

```bash
# æ£€æŸ¥åç«¯æ—¥å¿—
cd backend
tail -f logs/app.log
```

---

### Q2: é€‰æ‹©åˆ†ç±»åæ²¡æœ‰ååº”
**ç—‡çŠ¶**: ç‚¹å‡»åˆ†ç±»ï¼Œä½† `onCategoryChange` æ²¡æœ‰è§¦å‘

**è§£å†³**:
```tsx
// ç¡®ä¿ä¼ å…¥äº†å›è°ƒå‡½æ•°
<CategoryFilter 
  onCategoryChange={(path) => {
    console.log('åˆ†ç±»å˜åŒ–:', path);  // æ·»åŠ æ—¥å¿—
    handleCategoryChange(path);
  }}
/>
```

---

### Q3: åˆ†ç±»æ˜¾ç¤ºä¸å®Œæ•´
**ç—‡çŠ¶**: åªæ˜¾ç¤º15ä¸ªé¡¶å±‚åˆ†ç±»ï¼Œæ²¡æœ‰å­åˆ†ç±»

**è§£å†³**:
1. æ£€æŸ¥ API è¿”å›çš„ `subCategories` å­—æ®µ
2. ç¡®è®¤ meta.json æ•°æ®æ ¼å¼æ­£ç¡®
3. æ£€æŸ¥ `buildCategoryTree` æ–¹æ³•çš„é€»è¾‘

```bash
# æµ‹è¯•API
curl http://localhost:3001/api/doeeet/categories/tree | jq '.data.subCategories'
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [CategoryFilterç»„ä»¶ä½¿ç”¨è¯´æ˜](./frontend/docs/CategoryFilterä½¿ç”¨è¯´æ˜.md)
- [å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ](./å‰ç«¯åˆ†ç±»ç­›é€‰åŠŸèƒ½å®æ–½æ–¹æ¡ˆ.md)
- [DoEEEté›†æˆå®æ–½æ€»ç»“](./DoEEEté›†æˆå®æ–½æ€»ç»“.md)

---

## ğŸ‰ å®Œæˆï¼

ç°åœ¨ä½ å·²ç»æˆåŠŸé›†æˆäº†åˆ†ç±»ç­›é€‰åŠŸèƒ½ï¼

**ä¸‹ä¸€æ­¥å»ºè®®**:
1. æ·»åŠ åŠ¨æ€å‚æ•°ç­›é€‰ï¼ˆæ ¹æ®é€‰æ‹©çš„åˆ†ç±»æ˜¾ç¤ºå¯¹åº”å‚æ•°ï¼‰
2. æ·»åŠ åˆ†ç±»ç»Ÿè®¡ï¼ˆæ˜¾ç¤ºæ¯ä¸ªåˆ†ç±»ä¸‹çš„ç»„ä»¶æ•°é‡ï¼‰
3. æ·»åŠ æœç´¢åŠŸèƒ½ï¼ˆåœ¨åˆ†ç±»ä¸­æœç´¢ï¼‰
4. ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ

---

**æœ€åæ›´æ–°**: 2025-10-31  
**ç‰ˆæœ¬**: v1.0  
**å¿«é€Ÿé“¾æ¥**: [GitHub Issue](é“¾æ¥) | [åœ¨çº¿Demo](é“¾æ¥)

